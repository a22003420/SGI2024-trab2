<%- include('head'); -%>
    <script type="text/javascript" src="/js/base64url.js"></script>
    <script type="text/javascript" src="/js/login.js"></script>
    <main class="main-content">
        <section class="prompt">
            <h3>todos</h3>
            <h1>Sign in</h1>
            <% if (hasMessages) { %>
                <section class="messages">
                    <% messages.forEach(function(message) { %>
                        <p>
                            <%= message %>
                        </p>
                        <% }); %>
                </section>
                <% } %>
                    <form action="/login/password" method="post">
                        <div class="form-group">
                            <label for="username" class="form-label">Username</label>
                            <input id="username" name="username" type="text" autocomplete="username webauthn" required
                                autofocus class="form-input">
                        </div>
                        <div class="form-group">
                            <label for="current-password" class="form-label">Password</label>
                            <input id="current-password" name="password" type="password" autocomplete="current-password"
                                required class="form-input">
                        </div>
                        <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                        <button type="submit" class="btn btn-primary">Sign in</button>
                    </form>
                    <a id="siw-public-key" class="button public-key" href="#/">Sign in with Touch ID</a>
                    <hr class="divider">
                    <p class="help-text">Don't have an account? <a href="/signup" class="signup-link">Sign up</a></p>
                    </div>
        </section>
    </main>
    <%- include('foot'); -%>